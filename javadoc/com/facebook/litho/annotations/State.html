<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Tue Mar 23 17:43:14 GMT 2021 -->
<title>State</title>
<meta name="date" content="2021-03-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="State";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- @generated -->
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/facebook/litho/annotations/ShouldUpdate.html" title="annotation in com.facebook.litho.annotations"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/facebook/litho/annotations/TreeProp.html" title="annotation in com.facebook.litho.annotations"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/facebook/litho/annotations/State.html" target="_top">Frames</a></li>
<li><a href="State.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.facebook.litho.annotations</div>
<h2 title="Annotation Type State" class="title">Annotation Type State</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Retention(value=RUNTIME)
public @interface <span class="memberNameLabel">State</span></pre>
<div class="block">States for a given Component are the union of all arguments annotated with <code>State</code> in the
 spec. While both <a href="../../../../com/facebook/litho/annotations/Prop.html" title="annotation in com.facebook.litho.annotations"><code>Prop</code></a> and <a href="../../../../com/facebook/litho/annotations/State.html" title="annotation in com.facebook.litho.annotations"><code>State</code></a> hold information that influences the output of
 the component, they are different in one important way: props get passed to the component from
 its parent whereas states are managed within the component.

 <p>The initial values of states can be set using the <a href="../../../../com/facebook/litho/annotations/OnCreateInitialState.html" title="annotation in com.facebook.litho.annotations"><code>OnCreateInitialState</code></a> method and
 states can be updated in <a href="../../../../com/facebook/litho/annotations/OnUpdateState.html" title="annotation in com.facebook.litho.annotations"><code>OnUpdateState</code></a> methods. Updating states in the <a href="../../../../com/facebook/litho/annotations/OnUpdateState.html" title="annotation in com.facebook.litho.annotations"><code>OnUpdateState</code></a> methods will cause the component to invoke its <a href="../../../../com/facebook/litho/annotations/OnCreateLayout.html" title="annotation in com.facebook.litho.annotations"><code>OnCreateLayout</code></a> method.
 States <em>should</em> be immutable since the layout can be calculated on multiple threads.
 Immutability of the states ensures that no thread safety issues can occur in the component
 hierarchy.

 <p><b>Using State:</b> <br>

 <pre><code> @LayoutSpec
 public class CounterSpec {

   @OnCreateLayout
   static Component onCreateLayout(
     ComponentContext c,
     @State int count) {

     return Row.create(c)
       .backgroundColor(Color.WHITE)
       .heightDip(64)
       .paddingDip(YogaEdge.ALL, 8)
       .child(
         Text.create(c)
           .text(" + ")
           .clickHandler(Counter.onClick(c))
       )
       .child(
         Text.create(c)
           .text(String.valueOf(count))
       )
       .build();
   }

   @OnCreateInitialState
   static void onCreateInitialState(
       ComponentContext c,
       StateValue&lt;Integer&gt; count) {
     count.set(0);
   }

   @OnEvent(ClickEvent.class)
   static void onClick(ComponentContext c) {
     Counter.increment(c);
   }

   @OnUpdateState
   static void increment(StateValue&lt;Integer&gt; count) {
     count.set(count.get() + 1);
   }
 }</code></pre></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/facebook/litho/annotations/Param.html" title="annotation in com.facebook.litho.annotations"><code>Param</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/facebook/litho/annotations/State.html#canUpdateLazily--">canUpdateLazily</a></span></code>
<div class="block">Declares that this state can be updated lazily and that will not trigger a new layout
 calculations.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="canUpdateLazily--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>canUpdateLazily</h4>
<pre>public abstract&nbsp;boolean&nbsp;canUpdateLazily</pre>
<div class="block">Declares that this state can be updated lazily and that will not trigger a new layout
 calculations. After a lazy state update the component will continue to host the older value
 until the next layout calculation is preformed. This is useful for updating internal Component
 information and persisting it between re-layouts when an immediate layout calculation is not
 needed or when this state is not involved into layout calculation at all.

 <p><b>Note:</b> Such state can still participate in normal state update via <a href="../../../../com/facebook/litho/annotations/OnUpdateState.html" title="annotation in com.facebook.litho.annotations"><code>OnUpdateState</code></a> methods, but for lazy state updates an additional <code>lazyUpdate*StateName*</code>
 method will be generated.

 <p><b>Warning:</b> For now, lazily updated values will be available only in <a href="../../../../com/facebook/litho/annotations/OnEvent.html" title="annotation in com.facebook.litho.annotations"><code>OnEvent</code></a>
 methods (or after a normal state update). If you need support of other lifecycle methods, feel
 free to file an issue.

 <p><b>Using State:</b> <br>

 <pre><code> @LayoutSpec
 public class MyComponentSpec {
   @OnCreateLayout
   static Component onCreateLayout(ComponentContext c) {
     return Column.create(c)
       .child(
         Text.create(c)
           .backgroundRes(R.drawable.button_background)
           .textSizeSp(20)
           .text("Submit")
           .clickHandler(MyComponent.onClick(c)))
       .build();
   }

   @OnEvent(ClickEvent.class)
   static void onClick(ComponentContext c, @State(canUpdateLazily = true) boolean wasAlreadyClicked) {
     if (!wasAlreadyClicked) {
       logFirstButtonClick();
     }
     MyComponent.lazyUpdateWasAlreadyClicked(c, true);
   }
 }</code></pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this state can be updated lazily.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/facebook/litho/annotations/ShouldUpdate.html" title="annotation in com.facebook.litho.annotations"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/facebook/litho/annotations/TreeProp.html" title="annotation in com.facebook.litho.annotations"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/facebook/litho/annotations/State.html" target="_top">Frames</a></li>
<li><a href="State.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
