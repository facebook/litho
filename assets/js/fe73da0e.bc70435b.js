"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7490],{15680:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>m,MDXProvider:()=>c,mdx:()=>h,useMDXComponents:()=>d,withMDXComponents:()=>p});var a=t(96540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o.apply(this,arguments)}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var m=a.createContext({}),p=function(e){return function(n){var t=d(n.components);return a.createElement(e,o({},n,{components:t}))}},d=function(e){var n=a.useContext(m),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=d(e.components);return a.createElement(m.Provider,{value:n},e.children)},u="mdxType",y={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},f=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,r=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=d(t),c=i,u=p["".concat(r,".").concat(c)]||p[c]||y[c]||o;return t?a.createElement(u,l(l({ref:n},m),{},{components:t})):a.createElement(u,l({ref:n},m))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=f;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[u]="string"==typeof e?e:i,r[1]=l;for(var m=2;m<o;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}f.displayName="MDXCreateElement"},3724:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>m,default:()=>f,frontMatter:()=>s,metadata:()=>p,toc:()=>c});var a=t(58168),i=t(98587),o=(t(96540),t(15680)),r=t(86025),l=["components"],s={id:"transition-all-layout",title:"Animating All Layout"},m=void 0,p={unversionedId:"animations/transition-all-layout",id:"animations/transition-all-layout",title:"Animating All Layout",description:"Transition.allLayout() may cause unexpected transitions because it adds transitions to ALL components present in the layout tree, which may include components higher than the target component in the hierarchy. Please use it carefully.",source:"@site/../docs/animations/transition-all-layout.mdx",sourceDirName:"animations",slug:"/animations/transition-all-layout",permalink:"/docs/animations/transition-all-layout",draft:!1,editUrl:"https://github.com/facebook/litho/edit/master/website/../docs/animations/transition-all-layout.mdx",tags:[],version:"current",frontMatter:{id:"transition-all-layout",title:"Animating All Layout"},sidebar:"mainSidebar",previous:{title:"Types of Transitions",permalink:"/docs/animations/transition-types"},next:{title:"Customizing Transitions",permalink:"/docs/animations/transition-choreography"}},d={},c=[],u={toc:c},y="wrapper";function f(e){var n=e.components,t=(0,i.A)(e,l);return(0,o.mdx)(y,(0,a.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("admonition",{type:"caution"},(0,o.mdx)("p",{parentName:"admonition"},(0,o.mdx)("inlineCode",{parentName:"p"},"Transition.allLayout()")," may cause unexpected transitions because it adds transitions to ALL components present in the layout tree, which may include components higher than the target component in the hierarchy. Please use it carefully.")),(0,o.mdx)("p",null,"The ",(0,o.mdx)("a",{parentName:"p",href:"pathname:///javadoc/com/facebook/litho/Transition.html#allLayout--"},(0,o.mdx)("inlineCode",{parentName:"a"},"Transition.allLayout()"))," method enables all layout changes to be easily animated without having to assign ",(0,o.mdx)("inlineCode",{parentName:"p"},"transitionKey"),"s to all components:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"useTransition(Transition.allLayout().animator(ANIMATOR))\n")),(0,o.mdx)("p",null,"The following key points apply to ",(0,o.mdx)("inlineCode",{parentName:"p"},"Transition.allLayout()"),":"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Targets ",(0,o.mdx)("inlineCode",{parentName:"li"},"AnimatedProperty.X"),", ",(0,o.mdx)("inlineCode",{parentName:"li"},"Y"),", ",(0,o.mdx)("inlineCode",{parentName:"li"},"HEIGHT")," and ",(0,o.mdx)("inlineCode",{parentName:"li"},"WIDTH")," of all components present in the layout tree."),(0,o.mdx)("li",{parentName:"ol"},"Can be used to define ",(0,o.mdx)("a",{parentName:"li",href:"/docs/animations/transition-types#change-transitions"},"Change")," transitions only. To define the ",(0,o.mdx)("a",{parentName:"li",href:"/docs/animations/transition-types#appear-transitions"},"Appear")," and ",(0,o.mdx)("a",{parentName:"li",href:"/docs/animations/transition-types#disappear-transitions"},"Disappear")," transitions, ",(0,o.mdx)("inlineCode",{parentName:"li"},"transitionKey"),"s still need to be assigned."),(0,o.mdx)("li",{parentName:"ol"},"Could be used as a part of more ",(0,o.mdx)("a",{parentName:"li",href:"/docs/animations/transition-choreography"},"complex choreography"),".")),(0,o.mdx)("p",null,"The following example can be found in ",(0,o.mdx)("inlineCode",{parentName:"p"},"Litho Sample App -> API Demos -> Animated Badge"),":"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin",metastring:"file=sample/src/main/java/com/facebook/samples/litho/kotlin/animations/animatedbadge/AnimatedBadgeKotlin.kt start=start_example end=end_example",file:"sample/src/main/java/com/facebook/samples/litho/kotlin/animations/animatedbadge/AnimatedBadgeKotlin.kt",start:"start_example",end:"end_example"},"useTransition(\n    Transition.parallel<Transition.BaseTransitionUnitsBuilder>(\n        Transition.allLayout().animator(ANIMATOR),\n        Transition.create(Transition.TransitionKeyType.GLOBAL, TRANSITION_KEY_TEXT)\n            .animate(AnimatedProperties.WIDTH)\n            .appearFrom(0f)\n            .disappearTo(0f)\n            .animator(ANIMATOR)\n            .animate(AnimatedProperties.ALPHA)\n            .appearFrom(0f)\n            .disappearTo(0f)\n            .animator(ANIMATOR)))\n")),(0,o.mdx)("p",null,"The following animation shows the above 'AnimatedBadge' in action."),(0,o.mdx)("video",{loop:"true",autoplay:"true",class:"video",width:"100%",height:"500px"},(0,o.mdx)("source",{type:"video/webm",src:(0,r.default)("/videos/transitions/alllayout.webm")}),(0,o.mdx)("p",null,"Your browser does not support the video element.")))}f.isMDXComponent=!0}}]);