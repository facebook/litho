"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6929],{15680:(e,i,t)=>{t.r(i),t.d(i,{MDXContext:()=>c,MDXProvider:()=>p,mdx:()=>f,useMDXComponents:()=>m,withMDXComponents:()=>d});var n=t(96540);function a(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function r(){return r=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r.apply(this,arguments)}function l(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?l(Object(t),!0).forEach((function(i){a(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}function s(e,i){if(null==e)return{};var t,n,a=function(e,i){if(null==e)return{};var t,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],i.indexOf(t)>=0||(a[t]=e[t]);return a}(e,i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],i.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=n.createContext({}),d=function(e){return function(i){var t=m(i.components);return n.createElement(e,r({},i,{components:t}))}},m=function(e){var i=n.useContext(c),t=i;return e&&(t="function"==typeof e?e(i):o(o({},i),e)),t},p=function(e){var i=m(e.components);return n.createElement(c.Provider,{value:i},e.children)},y="mdxType",u={inlineCode:"code",wrapper:function(e){var i=e.children;return n.createElement(n.Fragment,{},i)}},b=n.forwardRef((function(e,i){var t=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=m(t),p=a,y=d["".concat(l,".").concat(p)]||d[p]||u[p]||r;return t?n.createElement(y,o(o({ref:i},c),{},{components:t})):n.createElement(y,o({ref:i},c))}));function f(e,i){var t=arguments,a=i&&i.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=b;var o={};for(var s in i)hasOwnProperty.call(i,s)&&(o[s]=i[s]);o.originalType=e,o[y]="string"==typeof e?e:a,l[1]=o;for(var c=2;c<r;c++)l[c]=t[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}b.displayName="MDXCreateElement"},97393:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>c,toc:()=>m});var n=t(58168),a=t(98587),r=(t(96540),t(15680)),l=["components"],o={id:"accessibility",title:"Accessibility"},s=void 0,c={unversionedId:"accessibility/accessibility",id:"accessibility/accessibility",title:"Accessibility",description:"Why Accessibility is important",source:"@site/../docs/accessibility/accessibility.mdx",sourceDirName:"accessibility",slug:"/accessibility/",permalink:"/docs/accessibility/",draft:!1,editUrl:"https://github.com/facebook/litho/edit/master/website/../docs/accessibility/accessibility.mdx",tags:[],version:"current",frontMatter:{id:"accessibility",title:"Accessibility"},sidebar:"mainSidebar",previous:{title:"Handling Visibility",permalink:"/docs/mainconcepts/coordinate-state-actions/visibility-handling"},next:{title:"Getting Started",permalink:"/docs/kotlin/testing-getting-started"}},d={},m=[{value:"Why Accessibility is important",id:"why-accessibility-is-important",level:2},{value:"Implementing Accessibility features",id:"implementing-accessibility-features",level:2},{value:"Supported Accessibility properties and events",id:"supported-accessibility-properties-and-events",level:2},{value:"Focus Order",id:"focus-order",level:2}],p={toc:m},y="wrapper";function u(e){var i=e.components,t=(0,a.A)(e,l);return(0,r.mdx)(y,(0,n.A)({},p,t,{components:i,mdxType:"MDXLayout"}),(0,r.mdx)("h2",{id:"why-accessibility-is-important"},"Why Accessibility is important"),(0,r.mdx)("p",null,"The fundamental purpose of an interface is to provide people with access to information: accessibility is the foundation of an interface. All people experience limitations in their abilities, whether it's temporary, situational or permanent. The aim of accessibility is to remove any obstacles that reduce the experience of using, understanding, and navigating your interface."),(0,r.mdx)("p",null,"This page provides details of the Litho components, methods, nodes, events, and headings available to ensure your interface provides the 'full experience' promoted by Meta."),(0,r.mdx)("admonition",{type:"info"},(0,r.mdx)("p",{parentName:"admonition"},"For information on how Meta is committed to creating a full UI experience for ",(0,r.mdx)("strong",{parentName:"p"},"all")," people, see the ",(0,r.mdx)("a",{parentName:"p",href:"https://en-gb.facebook.com/accessibility/"},"Meta Accessibility")," site.")),(0,r.mdx)("h2",{id:"implementing-accessibility-features"},"Implementing Accessibility features"),(0,r.mdx)("p",null,"Accessibility properties and events for components can be implemented by adding them to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"Style")," object."),(0,r.mdx)("p",null,"Following is an example of how to combine a ",(0,r.mdx)("inlineCode",{parentName:"p"},"Style"),", that was passed to a Primitive Component, with a newly created ",(0,r.mdx)("inlineCode",{parentName:"p"},"Style")," object that implements accessibility properties and events and will be returned on the ",(0,r.mdx)("inlineCode",{parentName:"p"},"LithoPrimitive")," object from the ",(0,r.mdx)("inlineCode",{parentName:"p"},"render()")," method:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin",metastring:"file=sample/src/main/java/com/facebook/samples/litho/kotlin/primitives/SimpleImageViewWithAccessibilityPrimitiveComponent.kt start=start_simple_primitive_component_with_a11y_example end=end_simple_primitive_component_with_a11y_example",file:"sample/src/main/java/com/facebook/samples/litho/kotlin/primitives/SimpleImageViewWithAccessibilityPrimitiveComponent.kt",start:"start_simple_primitive_component_with_a11y_example",end:"end_simple_primitive_component_with_a11y_example"},'class SimpleImageViewWithAccessibilityPrimitiveComponent(private val style: Style? = null) :\n    PrimitiveComponent() {\n  override fun PrimitiveComponentScope.render(): LithoPrimitive {\n    val a11y =\n        Style.accessibilityRole(AccessibilityRole.IMAGE)\n            .accessibilityRoleDescription("Image View")\n            .importantForAccessibility(ImportantForAccessibility.YES)\n            .onInitializeAccessibilityNodeInfo {\n              it.superDelegate.onInitializeAccessibilityNodeInfo(it.host, it.info)\n              it.info.addAction(\n                  AccessibilityNodeInfoCompat.AccessibilityActionCompat(\n                      AccessibilityNodeInfoCompat.ACTION_CLICK, "actionDescriptionText"))\n            }\n\n    return LithoPrimitive(primitive = SimpleImageViewPrimitive, style = a11y + style)\n  }\n}\n')),(0,r.mdx)("h2",{id:"supported-accessibility-properties-and-events"},"Supported Accessibility properties and events"),(0,r.mdx)("p",null,"The following list provides the supported properties of the ",(0,r.mdx)("inlineCode",{parentName:"p"},"Style")," object:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.accessibilityHeading")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.accessibilityRole")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.accessibilityRoleDescription")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.contentDescription")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.importantForAccessibility")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.screenReaderFocusable")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.requestInitialAccessibilityFocus")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.stateDescription")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.minDurationBetweenContentChangesMillis")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.labeledBy")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.paneTitle")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.liveRegion")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"Style.containerTitle"))),(0,r.mdx)("p",null,"The following table provides the supported events of the ",(0,r.mdx)("inlineCode",{parentName:"p"},"Style")," object:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Event"),(0,r.mdx)("th",{parentName:"tr",align:null},"AccessibilityDelegate method"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.onInitializeAccessibilityEvent")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://developer.android.com/reference/kotlin/androidx/core/view/AccessibilityDelegateCompat#onInitializeAccessibilityEvent(android.view.View,android.view.accessibility.AccessibilityEvent)"},"onInitializeAccessibilityEvent"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.onInitializeAccessibilityNodeInfo")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://developer.android.com/reference/kotlin/androidx/core/view/AccessibilityDelegateCompat#onInitializeAccessibilityNodeInfo(android.view.View,androidx.core.view.accessibility.AccessibilityNodeInfoCompat)"},"onInitializeAccessibilityNodeInfo"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.onPopulateAccessibilityNode")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://fburl.com/onpopulateaccessibilitynode"},"Populate an accessibility node with information about the component"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.onPopulateAccessibilityEvent")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://developer.android.com/reference/kotlin/androidx/core/view/AccessibilityDelegateCompat#onPopulateAccessibilityEvent(android.view.View,android.view.accessibility.AccessibilityEvent)"},"onPopulateAccessibilityEvent"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.onRequestSendAccessibilityEvent")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://developer.android.com/reference/kotlin/androidx/core/view/AccessibilityDelegateCompat#onRequestSendAccessibilityEvent(android.view.ViewGroup,android.view.View,android.view.accessibility.AccessibilityEvent)"},"onRequestSendAccessibilityEvent"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.performAccessibilityAction")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://developer.android.com/reference/kotlin/androidx/core/view/AccessibilityDelegateCompat#performAccessibilityAction(android.view.View,int,android.os.Bundle)"},"performAccessibilityAction"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.sendAccessibilityEvent")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://developer.android.com/reference/kotlin/androidx/core/view/AccessibilityDelegateCompat#sendAccessibilityEvent(android.view.View,int)"},"sendAccessibilityEvent"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Style.sendAccessibilityEventUnchecked")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("a",{href:"https://developer.android.com/reference/kotlin/androidx/core/view/AccessibilityDelegateCompat#sendAccessibilityEventUnchecked(android.view.View,android.view.accessibility.AccessibilityEvent)"},"sendAccessibilityEventUnchecked"))))),(0,r.mdx)("h2",{id:"focus-order"},"Focus Order"),(0,r.mdx)("p",null,"You can customize the default focus order behavior by creating focus order properties using ",(0,r.mdx)("inlineCode",{parentName:"p"},"useFocusOrder()")," hook and adding them to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"Style")," object. This allows you to tailor the focus order to your specific needs, ensuring that interactive elements are navigable in a logical and predictable manner."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin",metastring:"file=sample/src/main/java/com/facebook/samples/litho/kotlin/accessibility/FocusOrderComponent.kt start=start_focusorder_a11y_example end=end_focusorder_a11y_example",file:"sample/src/main/java/com/facebook/samples/litho/kotlin/accessibility/FocusOrderComponent.kt",start:"start_focusorder_a11y_example",end:"end_focusorder_a11y_example"},'val hideElements = useState { false }\nval (first, second, third, fourth, fifth) = useFocusOrder()\n\nreturn Column(\n    style = Style.padding(16.dp).contentDescription("Fourth hello!").focusOrder(fourth)) {\n      child(\n          Text(\n              text = "First hello!",\n              style =\n                  Style.focusOrder(first).onClick {\n                    hideElements.update { !hideElements.value }\n                  }))\n\n      if (hideElements.value) {\n        child(Text(text = "Fifth hello!", style = Style.focusOrder(fifth)))\n        child(TextInput(initialText = "Second hello!", style = Style.focusOrder(second)))\n      }\n      child(Text(text = "Third hello!", style = Style.focusOrder(third)))\n    }\n')))}u.isMDXComponent=!0}}]);