<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Litho Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Litho Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-44373548-28","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Litho" href="/opensearch.xml"><title data-react-helmet="true">FAQ | Litho</title><meta data-react-helmet="true" property="og:url" content="https://fblitho.com/docs/faq"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="FAQ | Litho"><meta data-react-helmet="true" name="description" content="Frequently Asked Questions"><meta data-react-helmet="true" property="og:description" content="Frequently Asked Questions"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://fblitho.com/docs/faq"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/faq" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/faq" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7ff81ca3.css">
<link rel="stylesheet" href="/assets/css/main.8f6b6ba9.css">
<link rel="preload" href="/assets/js/styles.10ad285b.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.cc1968ac.js" as="script">
<link rel="preload" href="/assets/js/main.858ab3c4.js" as="script">
<link rel="preload" href="/assets/js/1.bef55bbe.js" as="script">
<link rel="preload" href="/assets/js/2.9164bb93.js" as="script">
<link rel="preload" href="/assets/js/101.76b4e9ac.js" as="script">
<link rel="preload" href="/assets/js/104.2357c688.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.c8b14f56.js" as="script">
<link rel="preload" href="/assets/js/17896441.41a43866.js" as="script">
<link rel="preload" href="/assets/js/3d70cde6.cdcb89c5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Litho</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro/motivation">Docs</a><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a><a class="navbar__item navbar__link" href="/docs/tutorial/overview">Tutorial</a><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Litho</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro/motivation">Docs</a></li><li class="menu__list-item"><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="menu__link">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial/overview">Tutorial</a></li><li class="menu__list-item"><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">FAQ</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="frequently-asked-questions"></a>Frequently Asked Questions<a class="hash-link" href="#frequently-asked-questions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-litho-with-react-native"></a>Using Litho with React Native<a class="hash-link" href="#using-litho-with-react-native" title="Direct link to heading">#</a></h3><p>React Native ships with its own version of Yoga which can cause conflicts when merging the
dex files. In order to avoid this, you can instruct Gradle to exclude one of the Yoga modules.</p><p>To do this, add a section like this to your Gradle file after the dependency declaration:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly gradle"><div tabindex="0" class="prism-code language-gradle codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">configurations.all {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  exclude group: &#x27;com.facebook.yoga&#x27;, module: &#x27;yoga&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  exclude group: &#x27;com.facebook.infer.annotation&#x27;, module: &#x27;infer-annotation&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  exclude group: &#x27;com.google.code.findbugs&#x27;, module: &#x27;jsr305&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For more information, check out <a href="https://github.com/facebook/litho/issues/224" target="_blank" rel="noopener noreferrer">issue #224</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="forcing-newer-versions-of-the-support-library"></a>Forcing newer versions of the Support Library<a class="hash-link" href="#forcing-newer-versions-of-the-support-library" title="Direct link to heading">#</a></h3><p>If you want to override the version of the support library Litho requires, you can set
the overrides in your <code>build.gradle</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly gradle"><div tabindex="0" class="prism-code language-gradle codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">configurations.all {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  resolutionStrategy {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    force &#x27;com.android.support:appcompat-v7:26.+&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    force &#x27;com.android.support:support-compat:26.+&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    force &#x27;com.android.support:support-core-ui:26.+&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    force &#x27;com.android.support:support-annotations:26.+&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    force &#x27;com.android.support:recyclerview-v7:26.+&#x27;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="could-not-initialize-class-comfacebookyogayoganode"></a>Could not initialize class com.facebook.yoga.YogaNode<a class="hash-link" href="#could-not-initialize-class-comfacebookyogayoganode" title="Direct link to heading">#</a></h3><p>If you are getting this error when running a Litho unit test, go through these steps:</p><ul><li>Ensure Java 8 is correctly set up. If you are on a Mac, make sure that <code>which java</code>
points to something like <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/bin/java</code>
and <em>not</em> <code>/usr/bin/java</code>. Otherwise, update your <code>$PATH</code> accordingly.</li></ul><p><strong>For Buck</strong></p><ul><li>Make sure your tests use the <code>litho_robolectric4_test</code> which sets up the necessary dependencies on the native libraries.</li><li>If your tests use PowerMock, use the <code>litho_robolectric4_powermock_test</code> or set the <code>fork_mode</code> manually to <code>per_test</code> which
ensures that class loaders aren&#x27;t reused across threads.</li><li>Try <code>buck kill</code> and <code>buck clean</code>.</li><li>If everything else fails, reboot.</li></ul><p><strong>For Gradle</strong></p><ul><li>Follow the instructions under <a href="/docs/testing/unit-testing#caveats">Unit Testing - Caveats</a> for your setup.</li><li>Relaunch the gradle daemon with <code>./gradlew --stop</code>.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="injectprop-fails-for-generated-components"></a><code>@InjectProp</code> fails for generated components<a class="hash-link" href="#injectprop-fails-for-generated-components" title="Direct link to heading">#</a></h3><p>When using parallel build systems like Buck, it can be difficult for the build
system to determine the correct order to generate sources in. This can lead to
essential type information being unavailable, making it impossible to determine
the fully qualified name. If a component A tries to use <code>@InjectProp</code> for
another generated component B, this can fail if B is part of the same
compilation unit, but sits in a different package.</p><p>The easiest workaround for this is to help the compiler by moving
either the referencing or the referenced component into a separate build module.
Splitting build modules by package is considered a good practice with Buck.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/litho/edit/master/website/../docs/faq.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#frequently-asked-questions" class="table-of-contents__link">Frequently Asked Questions</a><ul><li><a href="#using-litho-with-react-native" class="table-of-contents__link">Using Litho with React Native</a></li><li><a href="#forcing-newer-versions-of-the-support-library" class="table-of-contents__link">Forcing newer versions of the Support Library</a></li><li><a href="#could-not-initialize-class-comfacebookyogayoganode" class="table-of-contents__link">Could not initialize class com.facebook.yoga.YogaNode</a></li><li><a href="#injectprop-fails-for-generated-components" class="table-of-contents__link"><code>@InjectProp</code> fails for generated components</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="footer__link-item">API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Open Source</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">How To Contribute</a></li><li class="footer__item"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open Source Projects</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://twitter.com/fblitho" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Facebook, Inc.</div></div></div></footer></div>
<script src="/assets/js/styles.10ad285b.js"></script>
<script src="/assets/js/runtime~main.cc1968ac.js"></script>
<script src="/assets/js/main.858ab3c4.js"></script>
<script src="/assets/js/1.bef55bbe.js"></script>
<script src="/assets/js/2.9164bb93.js"></script>
<script src="/assets/js/101.76b4e9ac.js"></script>
<script src="/assets/js/104.2357c688.js"></script>
<script src="/assets/js/935f2afb.c8b14f56.js"></script>
<script src="/assets/js/17896441.41a43866.js"></script>
<script src="/assets/js/3d70cde6.cdcb89c5.js"></script>
</body>
</html>