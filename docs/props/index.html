<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Litho Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Litho Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-44373548-28","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Litho" href="/opensearch.xml"><title data-react-helmet="true">Props | Litho</title><meta data-react-helmet="true" property="og:url" content="https://fblitho.com/docs/props"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Props | Litho"><meta data-react-helmet="true" name="description" content="Litho uses a unidirectional data flow with immutable inputs. Following the name established by React, the inputs that a Component takes are known as props."><meta data-react-helmet="true" property="og:description" content="Litho uses a unidirectional data flow with immutable inputs. Following the name established by React, the inputs that a Component takes are known as props."><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://fblitho.com/docs/props"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/props" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/props" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7ff81ca3.css">
<link rel="stylesheet" href="/assets/css/main.8f6b6ba9.css">
<link rel="preload" href="/assets/js/styles.10ad285b.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.cc1968ac.js" as="script">
<link rel="preload" href="/assets/js/main.858ab3c4.js" as="script">
<link rel="preload" href="/assets/js/1.bef55bbe.js" as="script">
<link rel="preload" href="/assets/js/2.9164bb93.js" as="script">
<link rel="preload" href="/assets/js/101.76b4e9ac.js" as="script">
<link rel="preload" href="/assets/js/104.2357c688.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.c8b14f56.js" as="script">
<link rel="preload" href="/assets/js/17896441.41a43866.js" as="script">
<link rel="preload" href="/assets/js/b77126b8.cbe110d5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Litho</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro/motivation">Docs</a><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a><a class="navbar__item navbar__link" href="/docs/tutorial/overview">Tutorial</a><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Litho</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro/motivation">Docs</a></li><li class="menu__list-item"><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="menu__link">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial/overview">Tutorial</a></li><li class="menu__list-item"><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Props</h1></header><div class="markdown"><p>Litho uses a unidirectional data flow with immutable inputs. Following the name established by <a href="https://reactjs.org/docs/components-and-props.html" target="_blank" rel="noopener noreferrer">React</a>, the inputs that a <code>Component</code> takes are known as <em>props</em>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="defining-and-using-props"></a>Defining and using Props<a class="hash-link" href="#defining-and-using-props" title="Direct link to heading">#</a></h2><p>The props for a given <code>Component</code> are the union of all arguments annotated with <code>@Prop</code> in your spec methods. You can access the value of the props in all the methods that declare it as an <code>@Prop</code> parameter.</p><p>The same prop can be defined and accessed in multiple lifecycle methods. The annotation processor will ensure you&#x27;re using consistent prop types and consistent annotation parameters across all the spec methods.</p><p>Take the following <code>Component</code> spec, for example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@MountSpec</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class MyComponentSpec {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  @OnPrepare</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  static void onPrepare(</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      ComponentContext c,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop(optional = true) @Nullable String prop1) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  @OnMount</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  static void onMount(</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      ComponentContext c,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      SomeDrawable convertDrawable,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop(optional = true) @Nullable String prop1,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop int prop2) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    if (prop1 != null) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>MyComponentSpec</code> defines two props: a <em>String</em> prop called <code>prop1</code> and an <em>int</em> prop named <code>prop2</code>. <code>prop1</code> is optional and it needs to be marked as such in all the methods that define it, otherwise the annotation processor will throw an exception.</p><p>When the lifecycle methods get called, the <code>@Prop</code> parameters will hold the value passed down from the Component&#x27;s parent when the Component was created (or their default values).</p><p>Props are defined and used the same way in <code>LayoutSpecs</code> and <code>MountSpecs</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setting-props"></a>Setting Props<a class="hash-link" href="#setting-props" title="Direct link to heading">#</a></h2><p>For each unique prop defined on the spec, the annotation processor creates a builder pattern method on the Component Builder that has the same name as the prop and that takes as only parameter the value to set for that prop.</p><p>You pass down values for these props by calling the appropriate methods on the generated Component Builder:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">MyComponent.create(c)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .prop1(&quot;My prop 1&quot;)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .prop2(256)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .build();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prop-defaults"></a>Prop defaults<a class="hash-link" href="#prop-defaults" title="Direct link to heading">#</a></h2><p><a href="/javadoc/com/facebook/litho/annotations/PropDefault.html" target="_blank" rel="noopener noreferrer"><code>PropDefault</code></a> can be used for setting
the default value of an optional <code>Prop</code> in a <code>LayoutSpec</code> or <code>MountSpec</code>. The annotated field must
be a constant (i.e. <code>static final</code>) with the same name and type as the <code>Prop</code>. We&#x27;ll often want to
define explicit default values for our optional props instead of simply using Java&#x27;s defaults.</p><p>Let&#x27;s see an how we can declare and use <code>PropDefault</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@LayoutSpec</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">class SomeSpec {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  @PropDefault static final String name = &quot;John Doe&quot;;  // default value for name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  @OnCreateLayout</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  static Component onCreateLayout(ComponentContext c, @Prop(optional = true) String name) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    return Text.create(c)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        .text(name)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        .textSizeSp(16)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        .marginDip(YogaEdge.BOTTOM, 4)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        .build();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>PropDefault</code> also support values from Resources via setting a <code>resType</code> and <code>resId</code>. Let&#x27;s define
a <code>PropDefault</code> with a resource value:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@PropDefault(resType = ResType.DIMEN_SIZE, resId = R.dimen.default_spacing) static float prop3;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="resource-types"></a>Resource Types<a class="hash-link" href="#resource-types" title="Direct link to heading">#</a></h2><p>When creating layouts, it&#x27;s very common to use values from Android&#x27;s resource system such as dimensions, colors, strings, etc. Litho provides convenient ways to set prop values from Android resources using annotations.</p><p>Let&#x27;s consider a simple example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@LayoutSpec</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public class MyComponentSpec {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  @OnCreateLayout</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  static Component onCreateLayout(</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      ComponentContext c,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop CharSequence someString,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop int someSize,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop int someColor) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In the example above, <code>MyComponent</code> has props that are expected to take a color integer (<code>someColor</code>), a pixel dimension (<code>someSize</code>), and a string (<code>someString</code>) as value. Very often, you&#x27;ll want to set the value of these props using resource values:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">Resources res = c.getResources();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">MyComponent.create(c)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .someString(res.getString(R.string.my_string))</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .someSize(res.getDimensionPixelSize(R.dimen.my_dimen))</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .someColor(res.getColor(R.color.my_color))</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The framework allows you to annotate props with resource types so that your component builder has convenience methods to use resource values directly.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@LayoutSpec</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public class MyComponentSpec {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  @OnCreateLayout</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  static Component onCreateLayout(</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      ComponentContext c,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop(resType = ResType.STRING) CharSequence someString,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop(resType = ResType.DIMEN_SIZE) int someSize,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      @Prop(resType = ResType.COLOR) int someColor) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>With the changes above, <code>MyComponent</code>&#x27;s builder will contain <em>Res</em>, <em>Attr</em>, <em>Dip</em>, and <em>Px</em> methods for the annotated props according to their resource types. So you&#x27;ll be able to do the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">MyComponent.create(c)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .someStringRes(R.string.my_string)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .someSizePx(10)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .someSizeDip(10)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .someColorAttr(android.R.attr.textColorTertiary)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Other supported resource types are <code>ResType.STRING_ARRAY</code>, <code>ResType.INT</code>, <code>ResType.INT_ARRAY</code>, <code>ResType.BOOL</code>, <code>ResType.COLOR</code>, <code>ResType.DIMEN_OFFSET</code>, <code>ResType.FLOAT</code>, and <code>ResType.DRAWABLE</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="variable-arguments"></a>Variable Arguments<a class="hash-link" href="#variable-arguments" title="Direct link to heading">#</a></h2><p>Sometimes, you want to support having a list of items. This can unfortunately
be a bit painful since it requires the developer to make a list, add all the
items to it, and pass list to the component builder&#x27;s method. The <code>varArg</code>
parameter aims to makes this a little easier.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@LayoutSpec</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public class MyComponentSpec {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   @OnCreateLayout</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   static Component onCreateLayout(</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">       ComponentContext c,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">       @Prop(varArg = &quot;name&quot;) List&lt;String&gt; names) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">     ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This can then be used as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">MyComponent.create(c)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .name(&quot;One&quot;)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .name(&quot;Two&quot;)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .name(&quot;Three&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This also works for props with a <code>resType</code>. For instance, given a Component like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">@LayoutSpec</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">public class MyComponent2Spec {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   @OnCreateLayout</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   static Component onCreateLayout(</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">       ComponentContext c,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">       @Prop(varArg = &quot;size&quot;, resType = ResType.DIMEN_TEXT) List&lt;Float&gt; sizes) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">     ...</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can add multiple sizes through calls to the builder:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">MyComponent2.create(c)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .sizePx(1f)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .sizeRes(resId)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .sizeAttr(attrResId)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .sizeDip(1f)</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    .sizeSp(1f)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="immutability"></a>Immutability<a class="hash-link" href="#immutability" title="Direct link to heading">#</a></h2><p>The props of a Component are read-only. The Component&#x27;s parent passes down values for the props when it creates the Component and they cannot change throughout the lifecycle of the Component. If the props values must be updated, the parent has to create a new Component and pass down new values for the props.
The props objects should be made immutable. Due to <a href="/docs/asynchronous-layout">background layout</a>, props may be accessed on multiple threads. Props immutability ensures that no thread safety issues can happen during the component&#x27;s lifecycle.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="common-props"></a>Common Props<a class="hash-link" href="#common-props" title="Direct link to heading">#</a></h2><p>Common props are props that are available on all Components, e.g. <code>margin</code>, <code>padding</code>, <code>flex</code> etc. A full list of CommonProps can be found in the code <a href="https://github.com/facebook/litho/blob/master/litho-core/src/main/java/com/facebook/litho/Component.java" target="_blank" rel="noopener noreferrer">here</a>.</p><p>You may want to access a Common Prop inside your Component (e.g. to see if a click handler was set on it), in which case you should use set <code>@Prop</code> param <code>isCommonProp</code>, and name your prop using the same name as the Common Prop. If you wish to override the behavior of the Common Prop, then you should also set the <code>@Prop</code> param <code>overrideCommonPropBehavior</code> to <code>true</code>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/litho/edit/master/website/../docs/props.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#defining-and-using-props" class="table-of-contents__link">Defining and using Props</a></li><li><a href="#setting-props" class="table-of-contents__link">Setting Props</a></li><li><a href="#prop-defaults" class="table-of-contents__link">Prop defaults</a></li><li><a href="#resource-types" class="table-of-contents__link">Resource Types</a></li><li><a href="#variable-arguments" class="table-of-contents__link">Variable Arguments</a></li><li><a href="#immutability" class="table-of-contents__link">Immutability</a></li><li><a href="#common-props" class="table-of-contents__link">Common Props</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="footer__link-item">API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Open Source</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">How To Contribute</a></li><li class="footer__item"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open Source Projects</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://twitter.com/fblitho" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Facebook, Inc.</div></div></div></footer></div>
<script src="/assets/js/styles.10ad285b.js"></script>
<script src="/assets/js/runtime~main.cc1968ac.js"></script>
<script src="/assets/js/main.858ab3c4.js"></script>
<script src="/assets/js/1.bef55bbe.js"></script>
<script src="/assets/js/2.9164bb93.js"></script>
<script src="/assets/js/101.76b4e9ac.js"></script>
<script src="/assets/js/104.2357c688.js"></script>
<script src="/assets/js/935f2afb.c8b14f56.js"></script>
<script src="/assets/js/17896441.41a43866.js"></script>
<script src="/assets/js/b77126b8.cbe110d5.js"></script>
</body>
</html>