<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Tue Mar 23 17:43:12 GMT 2021 -->
<title>TransitionManager</title>
<meta name="date" content="2021-03-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransitionManager";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- @generated -->
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/facebook/litho/TransitionId.Type.html" title="annotation in com.facebook.litho"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/facebook/litho/TransitionManager.OnAnimationCompleteListener.html" title="interface in com.facebook.litho"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/facebook/litho/TransitionManager.html" target="_top">Frames</a></li>
<li><a href="TransitionManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#methods.inherited.from.class.java.lang.Object">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.facebook.litho</div>
<h2 title="Class TransitionManager" class="title">Class TransitionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.facebook.litho.TransitionManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TransitionManager</span>
extends java.lang.Object</pre>
<div class="block">Handles animating transitions defined by ComponentSpec's onCreateTransition code.

 <p>USAGE FROM MOUNTSTATE

 <p>Unique per MountState instance. Called from MountState on mount calls to process the
 transition keys and handles which transitions to run and when.

 <p>This class is tightly coupled to MountState. When creating new animations, the expected usage
 of this class is: 1. <a href="../../../com/facebook/litho/TransitionManager.html#setupTransitions-com.facebook.rendercore.transitions.TransitionsExtensionInput-com.facebook.rendercore.transitions.TransitionsExtensionInput-com.facebook.litho.Transition-"><code>setupTransitions(com.facebook.rendercore.transitions.TransitionsExtensionInput, com.facebook.rendercore.transitions.TransitionsExtensionInput, com.facebook.litho.Transition)</code></a> is called with the current and next <a href="../../../com/facebook/rendercore/transitions/TransitionsExtensionInput.html" title="interface in com.facebook.rendercore.transitions"><code>TransitionsExtensionInput</code></a>. 2. <a href="../../../com/facebook/litho/TransitionManager.html#isAnimating-com.facebook.litho.TransitionId-"><code>isAnimating(com.facebook.litho.TransitionId)</code></a> and <a href="../../../com/facebook/litho/TransitionManager.html#isDisappearing-com.facebook.litho.TransitionId-"><code>isDisappearing(com.facebook.litho.TransitionId)</code></a> can be called to
 determine what is/will be animating 3. MountState updates the mount content for changing content.
 4. <a href="../../../com/facebook/litho/TransitionManager.html#runTransitions--"><code>runTransitions()</code></a> is called to restore initial states for the transition and run the new
 animations.

 <p>Additionally, any time the <code>MountState</code> is re-used for a different component tree (e.g.
 because it was recycled in a RecyclerView), <a href="../../../com/facebook/litho/TransitionManager.html#reset--"><code>reset()</code></a> should be called to stop running all
 existing animations.

 <p>TECHNICAL DETAILS

 <p>- Transition keys are 1-1 mapped to AnimationState - An <code>AnimationState</code> has many <code>PropertyState</code>s (one for each property) - A <code>PropertyState</code> can have up to one animation.

 <p>An <code>AnimationState</code> keeps track of the current mount content object, as well as the
 state of all animating properties (<code>PropertyState</code>s). A <code>PropertyState</code> keeps track
 of a <a href="../../../com/facebook/litho/animation/AnimatedPropertyNode.html" title="class in com.facebook.litho.animation"><code>AnimatedPropertyNode</code></a>, which has the current value of that property in the animation,
 and up to one animation and end value. A reverse mapping from animation to property(s) being
 animated is tracked in <a href="../../../com/facebook/litho/TransitionManager.html#mAnimationsToPropertyHandles"><code>mAnimationsToPropertyHandles</code></a>.

 <p>Combined, these mean that at any point in time, we're able to tell what animation is animating
 what property(s). Knowing this, we can properly resolve conflicting animations (animations on the
 same property of the same mount content).

 <p>Another important note: sometimes we need to keep values set on properties before or after
 animations.

 <p>Examples include an appearFrom value for an animation that starts later in a sequence of
 animations (in that case, the appearFrom value must be immediately applied even if the animation
 isn't starting until later), and keeping disappearTo values even after an animation has completed
 (e.g., consider animating alpha and X position: if the alpha animation finishes first, we still
 need to keep the final value until we can remove the animating content).

 <p>As such, our rule is that we should have a <code>PropertyState</code> on the corresponding <code>AnimationState</code> for any property that has a value no necessarily reflected by the most up to date
 <code>LayoutOutput</code> for that transition key in the most recent <a href="../../../com/facebook/rendercore/transitions/TransitionsExtensionInput.html" title="interface in com.facebook.rendercore.transitions"><code>TransitionsExtensionInput</code></a>. Put another way, animation doesn't always imply movement, but a
 temporary change from a canonical <code>LayoutOutput</code>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/facebook/litho/TransitionManager.OnAnimationCompleteListener.html" title="interface in com.facebook.litho">TransitionManager.OnAnimationCompleteListener</a>&lt;<a href="../../../com/facebook/litho/TransitionManager.OnAnimationCompleteListener.html" title="type parameter in TransitionManager.OnAnimationCompleteListener">T</a>&gt;</span></code>
<div class="block">A listener that will be invoked when a mount content has stopped animating.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/facebook/litho/TransitionManager.html#TransitionManager-com.facebook.litho.TransitionManager.OnAnimationCompleteListener-java.lang.String-">TransitionManager</a></span>(<a href="../../../com/facebook/litho/TransitionManager.OnAnimationCompleteListener.html" title="interface in com.facebook.litho">TransitionManager.OnAnimationCompleteListener</a>&nbsp;onAnimationCompleteListener,
                 java.lang.String&nbsp;debugTag)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TransitionManager-com.facebook.litho.TransitionManager.OnAnimationCompleteListener-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TransitionManager</h4>
<pre>public&nbsp;TransitionManager(<a href="../../../com/facebook/litho/TransitionManager.OnAnimationCompleteListener.html" title="interface in com.facebook.litho">TransitionManager.OnAnimationCompleteListener</a>&nbsp;onAnimationCompleteListener,
                         java.lang.String&nbsp;debugTag)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/facebook/litho/TransitionId.Type.html" title="annotation in com.facebook.litho"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/facebook/litho/TransitionManager.OnAnimationCompleteListener.html" title="interface in com.facebook.litho"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/facebook/litho/TransitionManager.html" target="_top">Frames</a></li>
<li><a href="TransitionManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#methods.inherited.from.class.java.lang.Object">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
